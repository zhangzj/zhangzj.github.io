---
layout: post
title: "CSS权威指南 读书笔记-A"
categories: CSS
tags: CSS 读书笔记
---

* content
{:toc}

第1章：CSS和文档

第2章：选择器



### 1 CSS和文档

- 层叠样式表，Cascading Style Sheets，本身的存在依附于某种内容文档，来控制表现

#### Web的衰落 CSS作救星

- html早期很简单，人们越来越迫切想要更丰富的表现，但是导致的html本身开始混乱

- 内容与展现的分离，催生了css，单独对效果进行描述

#### 元素

- 元素是文档的基础，也就是一个html的标签，每一个元素都会生成一个box，也就是盒模型

##### 替换元素和非替换元素

- 元素和元素还是有些不同，分为替换和非替换

- 替换元素：是指替换元素内容的部分并非由文档内容直接显示，最直接的例子就是img元素，内容使用一个文件来替换，img没有具体的内容

```
<img src="howdy.gif" />
```

- 非替换元素：大多是元素都是非替换元素，内容是由用户代理显示，在本身元素的框中显示，比如span元素

```
<span>hi there</span>
```

##### 元素显示角色

- 块级元素和行内元素

![](http://ww2.sinaimg.cn/large/8d6a2535jw1f93pkc066xj20le04caao.jpg)

- 块级元素：生成一个元素框，默认会填满父元素的内容区，旁边不能有其他元素，也即是独占一行，在元素前后生成了分隔符好像，比如div和p

- 行内元素：在文本行内生成元素框，但不会打断这行文本，比如a元素，strong，em，不会独占一行

- 属性：display，

#### 结合CSS和XHTML

- 内容文档需要有一个固有结构，文档的内部结构不是视觉结构，而是结构含义的信息

- 引入css的多种方式

- link标记：关联一个文档

```
<link rel="stylesheet" type="text/css" href="sheet1.css" media="all" />
```

	- link的属性，rel代表关系，样式表，type总是css，描述加载的类型，href代表音容的URI，最后一个meida是all，要应用于所有表现媒体

- style元素直接写css

	- @import标记直接引入css文件

	```
	@import url(sheet2.css);
	```

- 内联样式，写在标签内的样式

#### 小结

CSS掌控文档展示的样式和方式，如何表现元素，具体怎么部署样式，用户不必关心细节

CSS可以集中放置样式信息，和文档内容本身是分离的，减少耦合，易于维护

### 2 选择器

#### 基本规则

- 每个规则有两个基本部分，选择器和声明块，声明块由一个或者多个声明组成，每一个生命更都是一个属性和值的对

![](http://ww4.sinaimg.cn/large/8d6a2535jw1f93q38jglnj20l60660tv.jpg)

#### 元素选择器

- 文档的元素就是最基本的选择器

```
html {color: balck;}
h1 {color: gray;}
h2 {color: silver;}
```

- css的声明如果出错是不会报错的，结果是不起任何效果

##### 分组

- 多个选择器应用同一个声明的情况，使用逗号分割

```
h2, p {color: gray;}
h1, h2, h3, h4, h5, h6 {color: purple;}
```

##### 通配选择器

- 显示为一个星号，这个选择器与任意元素匹配

```
* {color: red;}
```

##### 类选择器和ID选择器

- 将class属性标记为一类，应用一个css声明

- 类选择器和ID选择器都是需要在文档中事先作出构想和计划的，事先的布局，文档的配置，然后是选择OK

- **类选择器**的前提条件是，标签的class属性指定，然后定义样式

```
*.warning {font-weight: bold;}
```

- 这个样式会应用到所有class属性为warning的标签中

- 如果只是希望段落标签 p 中的类被选择应用，可以这样写样式

```
p.warning {font-weight: bold;}
```

- 逻辑上是并且的关系，是某个标签并且class的属性是warning

```
p.warning {font-weight: bold;}
span.warning {font-style: italic;}
```

- **多类选择器**：class属性可以包含一个列表，使用空格分割，多个词出现的顺序不要紧

- 样式中可以设定同时包含几个class同事存在才生效的声明

```
.warning {font-weight: bold;}
.urgent {font-style: italic;}
.warning.urgent {background: silver;}
```

- 结合标签选择和多类选择，同时存在才会生效，只有class中由warning又有help的p元素才会生效

```
p.warning.help {background: red;}
```

- **ID选择器**，类似于类选择器，id样式前面是井号，不是点

```
*#first-para {font-weight: bold;}
```

- 元素中的id属性配置为first-para之后，样式就会生效，忽略通配选择器星号，也能正常工作

- **类选择器还是ID选择器？**

	class可以应用到多个元素，但是id只可以有一个元素被应用，id的值在文档中必须是唯一的；

	id选择器不能像类选择器一样，列表使用，只能有一个值

	id和元素标签是无关的，具体演示会应用到什么元素上，无法确定

#### 属性选择器

	根据元素的属性及属性值来选择元素，有4种类型的属性选择器

- 简单属性选择

- 希望选择有某个属性的元素，不论这个属性的值是什么，只要标签中有这个属性，就会应用样式

```
h1[class] {color: silver;}
p[title] {color: gray;}
```

加上通配符进行组合，应用到所有有该属性的标签上

```
*[title] {font-weight: bold;}
```

类似于多类选择，可以指定多个属性同时存在的情况下才应用样式，a 标签需要同时有，href和title属性的标签应用样式

```
a[href][title] {font-weight: bold;}
```

- 根据具体属性值选择

根据具体属性值，可以缩小选择范围，只选择有特定属性值的元素，只选择某一个特定的链接的a标签

```
a[href="www.baidu.com"] { font-weight: bold;}
```

也可以类似多类选择器的情况

```
a[href="http://badu.com"][titile="W3C Home"] {font-size: 200%;}
```

- 根据部分属性值选择

词列表的情况，空格分割，可以根据任意一个词进行选择，比如class属性，接受一个或者多个词座位属性值，这种情况下，想要选择包含warning的元素

```
p[class~="warning"] {font-weight: bold;}
```

选择器中的波浪号，表示可以选择一个，如果没有波浪号就需要完全值匹配

这个方式不仅可以用于class，也可以适用于任何属性，只要是空格分割的词列表，就可以使用

部分属性选择器的规范说法是子串匹配属性选择器

![](http://ww2.sinaimg.cn/large/8d6a2535jw1f94vvdlcwtj20l704x3zb.jpg)

基本适用于任何属性的值筛选

```
img[src*="space"] {border: 5px solid red;}
```

- 特定属性类的选择器

```
*[lang|="en"] {color: white;}
```

将会匹配所有en或者en-开头的元素，这种选择器可以用于任何属性值，最常见的是匹配语言值

#### 使用文档结构

理解父子关系，理解选择器和文档之间的关系，需要再次分析文档的结构

html文档的父子关系，基于元素的树形结构，每一个元素，要么是其他节点的父节点，要么是子节点，或者兼而有之

##### 后代选择器

元素之间有父子关系，要是不是直接的父子，也可以是祖先和后代的关系，这样的模型就可以定义后代选择器，也称作包含选择器或者上下文选择器

```
h1 em {color: gray;}
```

后代的层数是不做限制的，可以指定很多层的后代

```
ul ol ul em {color: gray;}
```

##### 选择子元素

如果不是选择任意一个后代元素，而是缩小范围，只选择一个子元素，比如，想选择只作为一个h1元素子元素，而不是后代元素的strong，可以使用子结合符

也就是只有一层父子关系，而不是后代关系的无限制层数

```
h1 > strong {color: red;}
```

##### 选择相邻兄弟元素

选择紧接着在一个元素后面的元素，而且二者有共同的父元素，可以使用相邻兄弟结合符，表示为一个加号

```
h1 + p {margin-top: 0;}
```

这行代码解释为，选择进阶在h1元素后面出现的所有段落，h1与p元素有共同的父元素

在结合符号组合使用的情况下，可以从右往左慢慢理解

```
html > body table + ul {margin-top: 1.5em;}
```

解释为：选择进阶在一个table元素后出现的所有兄弟ul元素，该table与元素包含在一个body元素中，body元素本身是html元素的子元素

#### 伪类和伪元素

可以为文档中不一定具体存在的结构指定样式，或者为某些元素，甚至是文档本身，的状态所指示的幻象类指定样式

指定演示的条件不再是文档结构，也不知道是什么方式？

实际上是某种无法提前预测的暂时条件来应用样式，只要条件发生，就会应用样式，但是条件是否发生无法预测，因果关系却是可以确定的

##### 伪类选择器

考虑一下a 元素，实际上是由两种状态，一种是访问过的链接，一种是没有访问过的，只看a元素是无法确定状态的，唯一的办法是将链接和浏览历史比较，这两种状态，两种基本类型就是称为伪类，使用这些伪类的选择器称为伪类选择器

第一个实现的方式是定一个class，然后访问之后呢修改a的class，这样就可以达到更该样式的目的，但是每次访问之后都要修改a的class实在是有点那啥

css定义的伪类，使得访问过的页面就好像有一个类一样

```
a:visited {color: red;}
```

这个冒号的出现就是伪类或者伪元素的标记，所有伪类和伪元素关键字前面都有一个冒号

- a元素链接的伪类

css有定义的伪类，为a标签标示访问过和未访问的状态样式

```
a:link {color: blue;}
a:visited {color: red;}
```

类选择器和伪类结合，就可以缩小指定的范围

```
a.external:link, a.external:visited {color: maroon;}
```

也适用于组合id选择器

```
a#footer-copyright:link {font-weight: bold;}
a#footer-copyright:visited {font-weight: normal;}
```

link和visited都是静态的，也就是说，状态改变了就改变了，还有动态的伪类

**动态伪类**可以根据用户行为改变文档的外观

![](http://ww3.sinaimg.cn/large/8d6a2535jw1f960plb9moj20l303p74r.jpg)

![](http://ww3.sinaimg.cn/large/8d6a2535jw1f960qdyomcj20l105d75h.jpg)

伪类定义的顺序很重要，伪类推荐顺序是link-visited-focus-hover-active

动态伪类可以应用到任何元素，对于费链接的元素应用动态样式

```
input:foucs {background: silver; font-weight: bold;}
```

- 使用静态伪类：first-child来选择元素的第一个子元素

这个第一个子元素的意思有点点奇怪

```
p:first-child {}
li:first-child {}
```

意思是将某个元素中作为一个子元素的p应用样式，将某个元素中第一个li，肯定是ul或者ol的子元素应用样式

- 根据语言选择，和属性选择器的区别在于，语言属性在很多地方会有定义，不一定是在元素内的属性

- 伪类的组合，可以在同一个选择器中结合使用伪类，状态是逻辑且的关系

##### 伪元素选择器

这是一个假想的元素，插入到文档中，从而得到某种效果，css中由四个伪元素，设置首字母的样式，设置第一行的样式，设置之前和之后元素的样式

first-letter，first-line，before，after

#### 小结

主要是选择器，在有固定文档结构规律的情况下可以发挥想象力，实现很多种选择元素的方式


